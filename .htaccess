<IfModule mod_rewrite.c>
  RewriteEngine on
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.html [L]
</IfModule>


<IfModule mod_deflate.c>
	SetOutputFilter DEFLATE
	# You can't compress what is already compressed
	SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary
	# Make proxies work as they should.
	<IfModule mod_headers.c>
		Header append Vary User-Agent
	</IfModule>

</IfModule> 

# BEGIN Cache-Control Headers
<IfModule mod_headers.c>

    <filesMatch ".(flv|gif|ico|jpg|jpeg|mp4|mpeg|png|woff2|svg|swf|webp)$">
        Header set Cache-Control "max-age=31536000, public"
    </filesMatch>
 
 	<FilesMatch "\.(js)$">
 		Header set Cache-Control "max-age=31557600, private"
 	</FilesMatch>

	<filesMatch "\.(html|htm)$">
		Header set Cache-Control "max-age=31557600, public"
	</filesMatch>
	# Disable caching for scripts and other dynamic files

</IfModule>
# END Cache-Control Headers


# BEGIN Expire headers
<IfModule mod_expires.c>
	 ExpiresActive On
	 ExpiresDefault "access plus 7200 seconds"
	 ExpiresByType image/jpg "access plus 2592000 seconds"
	 ExpiresByType image/jpeg "access plus 2592000 seconds"
	 ExpiresByType image/png "access plus 2592000 seconds"
	 ExpiresByType image/gif "access plus 2592000 seconds"
	 ExpiresByType image/gif "access plus 2592000 seconds"
	 AddType image/x-icon .ico
	 ExpiresByType image/ico "access plus 2592000 seconds"
	 ExpiresByType image/icon "access plus 2592000 seconds"
	 ExpiresByType image/x-icon "access plus 2592000 seconds"
	 ExpiresByType text/css "access plus 2592000 seconds"
	 ExpiresByType text/javascript "access plus 2592000 seconds"
	 ExpiresByType text/html "access plus 7200 seconds"
	 ExpiresByType application/xhtml+xml "access plus 7200 seconds"
	 ExpiresByType application/javascript A2592000
	 ExpiresByType application/x-javascript "access plus 2592000 seconds"
	 ExpiresByType application/x-shockwave-flash "access plus 2592000 seconds"
     ExpiresByType application/font-woff2 "access plus 2592000 seconds"
</IfModule>
<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file .(html?|txt|woff2|css|js|php|pl)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>